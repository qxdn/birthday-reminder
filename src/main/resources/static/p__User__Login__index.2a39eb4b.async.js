"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{34994:function(Ie,Q,e){e.d(Q,{A:function(){return C}});var d=e(1413),u=e(8232),v=e(67294),R=e(78733),te=e(9105),j=e(4942),Y=e(97685),w=e(87462),ne=e(50756),ae=e(46976),re=function(r,A){return v.createElement(ae.Z,(0,w.Z)({},r,{ref:A,icon:ne.Z}))},h=v.forwardRef(re),N=h,J=e(21770),oe=e(48874),se=e(28459),le=e(78957),I=e(93967),k=e.n(I),P=e(66758),g=e(2514),p=e(98082),ie=function(r){return(0,j.Z)({},r.componentCls,{"&-title":{marginBlockEnd:r.marginXL,fontWeight:"bold"},"&-container":(0,j.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(r.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)({display:"block",width:"100%"},"".concat(r.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(r.componentCls,"-container"),{paddingInlineStart:16}),"".concat(r.antCls,"-space-item,").concat(r.antCls,"-form-item"),{width:"100%"}),"".concat(r.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function H(t){return(0,p.Xj)("ProFormGroup",function(r){var A=(0,d.Z)((0,d.Z)({},r),{},{componentCls:".".concat(t)});return[ie(A)]})}var i=e(85893),$=v.forwardRef(function(t,r){var A=v.useContext(P.Z),W=A.groupProps,a=(0,d.Z)((0,d.Z)({},W),t),Z=a.children,fe=a.collapsible,me=a.defaultCollapsed,Ce=a.style,Ze=a.labelLayout,he=a.title,ce=he===void 0?t.label:he,de=a.tooltip,pe=a.align,xe=pe===void 0?"start":pe,ye=a.direction,Se=a.size,o=Se===void 0?32:Se,n=a.titleStyle,c=a.titleRender,L=a.spaceProps,U=a.extra,E=a.autoFocus,b=(0,J.Z)(function(){return me||!1},{value:t.collapsed,onChange:t.onCollapse}),D=(0,Y.Z)(b,2),X=D[0],_=D[1],V=(0,v.useContext)(se.ZP.ConfigContext),x=V.getPrefixCls,ee=(0,g.zx)(t),ue=ee.ColWrapper,F=ee.RowWrapper,B=x("pro-form-group"),K=H(B),ve=K.wrapSSR,y=K.hashId,l=fe&&(0,i.jsx)(N,{style:{marginInlineEnd:8},rotate:X?void 0:90}),f=(0,i.jsx)(oe.G,{label:l?(0,i.jsxs)("div",{children:[l,ce]}):ce,tooltip:de}),S=(0,v.useCallback)(function(T){var ge=T.children;return(0,i.jsx)(le.Z,(0,d.Z)((0,d.Z)({},L),{},{className:k()("".concat(B,"-container ").concat(y),L==null?void 0:L.className),size:o,align:xe,direction:ye,style:(0,d.Z)({rowGap:0},L==null?void 0:L.style),children:ge}))},[xe,B,ye,y,o,L]),m=c?c(f,t):f,M=(0,v.useMemo)(function(){var T=[],ge=v.Children.toArray(Z).map(function(G,Pe){var Me;return v.isValidElement(G)&&G!==null&&G!==void 0&&(Me=G.props)!==null&&Me!==void 0&&Me.hidden?(T.push(G),null):Pe===0&&v.isValidElement(G)&&E?v.cloneElement(G,(0,d.Z)((0,d.Z)({},G.props),{},{autoFocus:E})):G});return[(0,i.jsx)(F,{Wrapper:S,children:ge},"children"),T.length>0?(0,i.jsx)("div",{style:{display:"none"},children:T}):null]},[Z,F,S,E]),z=(0,Y.Z)(M,2),je=z[0],s=z[1];return ve((0,i.jsx)(ue,{children:(0,i.jsxs)("div",{className:k()(B,y,(0,j.Z)({},"".concat(B,"-twoLine"),Ze==="twoLine")),style:Ce,ref:r,children:[s,(ce||de||U)&&(0,i.jsx)("div",{className:"".concat(B,"-title ").concat(y).trim(),style:n,onClick:function(){_(!X)},children:U?(0,i.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[m,(0,i.jsx)("span",{onClick:function(ge){return ge.stopPropagation()},children:U})]}):m}),(0,i.jsx)("div",{style:{display:fe&&X?"none":void 0},children:je})]})}))});$.displayName="ProForm-Group";var O=$,q=e(62370);function C(t){return(0,i.jsx)(R.I,(0,d.Z)({layout:"vertical",contentRender:function(A,W){return(0,i.jsxs)(i.Fragment,{children:[A,W]})}},t))}C.Group=O,C.useForm=u.Z.useForm,C.Item=q.Z,C.useWatch=u.Z.useWatch,C.ErrorList=u.Z.ErrorList,C.Provider=u.Z.Provider,C.useFormInstance=u.Z.useFormInstance,C.EditOrReadOnlyContext=te.A},48874:function(Ie,Q,e){e.d(Q,{G:function(){return k}});var d=e(1413),u=e(4942),v=e(87462),R=e(67294),te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},j=te,Y=e(62914),w=function(g,p){return R.createElement(Y.Z,(0,v.Z)({},g,{ref:p,icon:j}))},ne=R.forwardRef(w),ae=ne,re=e(28459),h=e(83062),N=e(93967),J=e.n(N),oe=e(98082),se=function(g){return(0,u.Z)({},g.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:g.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:g.colorTextSecondary,fontWeight:"normal",fontSize:g.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function le(P){return(0,oe.Xj)("LabelIconTip",function(g){var p=(0,d.Z)((0,d.Z)({},g),{},{componentCls:".".concat(P)});return[se(p)]})}var I=e(85893),k=R.memo(function(P){var g=P.label,p=P.tooltip,ie=P.ellipsis,H=P.subTitle,i=(0,R.useContext)(re.ZP.ConfigContext),$=i.getPrefixCls,O=$("pro-core-label-tip"),q=le(O),C=q.wrapSSR,t=q.hashId;if(!p&&!H)return(0,I.jsx)(I.Fragment,{children:g});var r=typeof p=="string"||R.isValidElement(p)?{title:p}:p,A=(r==null?void 0:r.icon)||(0,I.jsx)(ae,{});return C((0,I.jsxs)("div",{className:J()(O,t),onMouseDown:function(a){return a.stopPropagation()},onMouseLeave:function(a){return a.stopPropagation()},onMouseMove:function(a){return a.stopPropagation()},children:[(0,I.jsx)("div",{className:J()("".concat(O,"-title"),t,(0,u.Z)({},"".concat(O,"-title-ellipsis"),ie)),children:g}),H&&(0,I.jsx)("div",{className:"".concat(O,"-subtitle ").concat(t).trim(),children:H}),p&&(0,I.jsx)(h.Z,(0,d.Z)((0,d.Z)({},r),{},{children:(0,I.jsx)("span",{className:"".concat(O,"-icon ").concat(t).trim(),children:A})}))]}))})},78147:function(Ie,Q,e){e.r(Q),e.d(Q,{default:function(){return Se}});var d=e(15009),u=e.n(d),v=e(97857),R=e.n(v),te=e(99289),j=e.n(te),Y=e(5574),w=e.n(Y),ne=e(39418),ae=e(36194),re=e(87547),h=e(1413),N=e(67294),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},oe=J,se=e(91146),le=function(n,c){return N.createElement(se.Z,(0,h.Z)((0,h.Z)({},n),{},{ref:c,icon:oe}))},I=N.forwardRef(le),k=I,P=e(91),g=e(10915),p=e(28459),ie=e(93967),H=e.n(ie),i=e(34994),$=e(4942),O=e(98082),q=function(n){return(0,$.Z)((0,$.Z)({},n.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:n.colorTextSecondary,fontSize:n.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,$.Z)({},"".concat(n.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function C(o){return(0,O.Xj)("LoginForm",function(n){var c=(0,h.Z)((0,h.Z)({},n),{},{componentCls:".".concat(o)});return[q(c)]})}var t=e(85893),r=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function A(o){var n,c=o.logo,L=o.message,U=o.contentStyle,E=o.title,b=o.subTitle,D=o.actions,X=o.children,_=o.containerStyle,V=o.otherStyle,x=(0,P.Z)(o,r),ee=(0,g.YB)(),ue=x.submitter===!1?!1:(0,h.Z)((0,h.Z)({searchConfig:{submitText:ee.getMessage("loginForm.submitText","\u767B\u5F55")}},x.submitter),{},{submitButtonProps:(0,h.Z)({size:"large",style:{width:"100%"}},(n=x.submitter)===null||n===void 0?void 0:n.submitButtonProps),render:function(m,M){var z,je=M.pop();if(typeof(x==null||(z=x.submitter)===null||z===void 0?void 0:z.render)=="function"){var s,T;return x==null||(s=x.submitter)===null||s===void 0||(T=s.render)===null||T===void 0?void 0:T.call(s,m,M)}return je}}),F=(0,N.useContext)(p.ZP.ConfigContext),B=F.getPrefixCls("pro-form-login"),K=C(B),ve=K.wrapSSR,y=K.hashId,l=function(m){return"".concat(B,"-").concat(m," ").concat(y)},f=(0,N.useMemo)(function(){return c?typeof c=="string"?(0,t.jsx)("img",{src:c}):c:null},[c]);return ve((0,t.jsxs)("div",{className:H()(l("container"),y),style:_,children:[(0,t.jsxs)("div",{className:"".concat(l("top")," ").concat(y).trim(),children:[E||f?(0,t.jsxs)("div",{className:"".concat(l("header")),children:[f?(0,t.jsx)("span",{className:l("logo"),children:f}):null,E?(0,t.jsx)("span",{className:l("title"),children:E}):null]}):null,b?(0,t.jsx)("div",{className:l("desc"),children:b}):null]}),(0,t.jsxs)("div",{className:l("main"),style:(0,h.Z)({width:328},U),children:[(0,t.jsxs)(i.A,(0,h.Z)((0,h.Z)({isKeyPressSubmit:!0},x),{},{submitter:ue,children:[L,X]})),D?(0,t.jsx)("div",{className:l("main-other"),style:V,children:D}):null]})]}))}var W=e(5966),a=e(63434),Z=e(80854),fe=e(38925),me=e(2453),Ce=e(48096),Ze=e(41689),he=e(73935),ce=e(67610),de=(0,Ze.kc)(function(o){var n=o.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:n.colorPrimaryActive}},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:n.borderRadius,":hover":{backgroundColor:n.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),pe=function(){var n=de(),c=n.styles;return(0,t.jsx)("div",{className:c.lang,"data-lang":!0,children:Z.SelectLang&&(0,t.jsx)(Z.SelectLang,{})})},xe=function(n){var c=n.content;return(0,t.jsx)(fe.Z,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},ye=function(){var n=(0,N.useState)({}),c=w()(n,2),L=c[0],U=c[1],E=(0,N.useState)("account"),b=w()(E,2),D=b[0],X=b[1],_=(0,Z.useModel)("@@initialState"),V=_.initialState,x=_.setInitialState,ee=de(),ue=ee.styles,F=(0,Z.useIntl)(),B=function(){var y=j()(u()().mark(function l(){var f,S;return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,V==null||(f=V.fetchUserInfo)===null||f===void 0?void 0:f.call(V);case 2:S=M.sent,S&&(0,he.flushSync)(function(){x(function(z){return R()(R()({},z),{},{currentUser:S})})});case 4:case"end":return M.stop()}},l)}));return function(){return y.apply(this,arguments)}}(),K=function(){var y=j()(u()().mark(function l(f){var S,m,M,z;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,ae.x4)(R()({},f));case 3:if(S=s.sent,!S.success){s.next=12;break}return m=F.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),me.ZP.success(m),s.next=9,B();case 9:return M=new URL(window.location.href).searchParams,Z.history.push(M.get("redirect")||"/"),s.abrupt("return");case 12:console.log(S),U(S),s.next=21;break;case 16:s.prev=16,s.t0=s.catch(0),z=F.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(s.t0),me.ZP.error(z);case 21:case"end":return s.stop()}},l,null,[[0,16]])}));return function(f){return y.apply(this,arguments)}}(),ve=L.success;return(0,t.jsxs)("div",{className:ue.container,children:[(0,t.jsx)(Z.Helmet,{children:(0,t.jsxs)("title",{children:[F.formatMessage({id:"menu.login",defaultMessage:"\u767B\u5F55\u9875"}),"- ",ce.Z.title]})}),(0,t.jsx)(pe,{}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(A,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.jpg"}),title:"\u751F\u65E5\u63D0\u9192",initialValues:{autoLogin:!0},onFinish:function(){var y=j()(u()().mark(function l(f){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,K(f);case 2:case"end":return m.stop()}},l)}));return function(l){return y.apply(this,arguments)}}(),children:[(0,t.jsx)(Ce.Z,{activeKey:D,onChange:X,centered:!0,items:[{key:"account",label:F.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})}]}),ve===!1&&D==="account"&&(0,t.jsx)(xe,{content:F.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),D==="account"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W.Z,{name:"name",fieldProps:{size:"large",prefix:(0,t.jsx)(re.Z,{})},placeholder:F.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,t.jsx)(Z.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,t.jsx)(W.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(k,{})},placeholder:F.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,t.jsx)(Z.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsx)(a.Z,{noStyle:!0,name:"autoLogin",children:(0,t.jsx)(Z.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,t.jsx)("a",{style:{float:"right"},children:(0,t.jsx)(Z.FormattedMessage,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,t.jsx)(ne.$_,{})]})},Se=ye}}]);
